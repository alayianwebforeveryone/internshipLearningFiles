<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dom Manuplation</title>

    <style>
        .imglist img{
            height: 200px;
            width: 400px;
            margin-top: 20px;
        }

        .imglist{
            color: white;
        }
body{
    background-color: #212121;
    color: white;
}


#bg_changeHead{
    text-align: center;
          
}

.play-btn{
    /* display: flex; */
    width: 70px;
    background-color: rgb(50, 116, 174);
    display: block;
    margin: 0 auto;
    height: 30px;
    border-radius: 15px;
}

.bgchange_container{
    margin: 0 auto;
    height: 200px;
    width: 60%;
    background-color: #6e5370;
    border: 3px solid gray;
}
/* ============================keydown====== */

#keyDown-container{

    background: #898484;
    width: 60%;
    height: 200px;
    border: 2px solid white;
    margin: 20 auto;
}


    </style>
</head>
<body>

 <!-- ====================bg change with btn==========     -->
    <div class="bgchange_container">
        <h3 id="bg_changeHead">Ater clicking start
             button bg change at every secodn and it will stop on stop button</h3>
             <button class="play-btn" id="btnStart">Start</button>
             <button class="play-btn" id="btnStop">Stop</button>
    </div>

     

<!-- =====================================keydown=========== -->
<div id="keyDown-container">
   <h3 style="text-align: center;">Enter any key form keyboard</h3>
   <p id="insert"></p>

</div>
      <!-- <div>
        <button id="start"> Start Now</button>
        <button id="stopNow">Stop Now</button>
      </div> -->

    <div class="parent">
        <div class="day">Saturday</div>
        <div class="day">Monday</div>
        <div class="day">Tueasday</div>
        <div class="day">Wedenesday</div>

    </div>

    <button id="stop">Stop</button>

    <div class="language">
        <ul>
            <li class="languageName">Urdu</li>
            <li class="languageName">Punjabi</li>
            <li class="languageName">Chinies</li>
        </ul>
    </div>

    <div>
        <ul id="img_ul">
            <li class="imglist" ><img src="images/slider1.png" alt="" id="img1" class="img"></li>
            <br><br><br><br>
            <li class="imglist" ><img src="images/slide2.png" alt="" id="img2" class="img"></li>
            <br>
            <li class="imglist" ><img src="images/slide3.png" alt="" id="img3" class="img"></li>
            <br>
            <li class="imglist" ><img src="images/slide5.png" alt="" id="img4" class="img"></li>
        </ul>
    </div>

    <script>

    // ========================DOM===================================
        let container = document.querySelector(".parent");
        // console.log(container);
      let div_collection =  (container.children);

        let arrayconverted = Array.from(div_collection);
        // console.log(arrayconverted);
        // console.log(arrayconverted[2].innerHTML);

    let arrayOp = arrayconverted.forEach((div) =>{
    //    console.log(div.innerHTML);
       div.style.color = "red";
    })

    let child = document.querySelector(".day");
    // console.log(child)
    // console.log(child.parentElement.innerHTML);
    // console.log(child.nextElementSibling.innerHTML);

    // console.log(arrayOp);

    // ====================== ========createnewElement=========
    let h1  = document.createElement("h1");
    console.log(h1);
    h1.id = Math.round(Math.random() *10 +1);
    // h1.innerHTML = 'This is a simple heading';

    let addText = document.createTextNode("This is a simple heading");
    h1.appendChild(addText);
    // document.body.appendChild(h1)
    // ==========================edit and remove dom==========
    //  let lang = document.querySelector('.language ul ');

     function addlang(newlang){

         let li = document.createElement('li');
         li.innerHTML = newlang;
         lang.appendChild(li)

     }

    //  addlang("Hindi")
   
// ============================optimize way=========  
    function newlg(language){
        lang = document.querySelector('.language ul ');
        let li = document.createElement('li');
        li.appendChild(document.createTextNode(language));
        lang.appendChild(li);
    }

    newlg("Arabic");
// ===================edit
let listofLang  =  document.querySelector(".languageName");
// console.log(listofLang.innerHTML);
let newli = document.createElement("li");
console.log(newli);
newli.innerHTML = "Sindhi";
listofLang.replaceWith(newli);


// =====================another way of edit
let listLang  =  document.querySelectorAll(".languageName");
listLang.outerHTML = "<li> new language </li>" ;

console.log(listLang)


// =================================Events======================addText
// There are many ways to use event in js 


let img1 = document.querySelector("#img1");
let img2 = document.querySelector("#img2");
let img3 =document.querySelector("#img3");
let img_ul = document.querySelector("#img_ul");
// let Allimg = document.querySelector('img');;
// console.log(Allimg);
// +++++++++++++Not good way

// img1.onclick = function(){     
    //     alert("first img is clicked")
    // }
    
    // +++++++++++++ good way

    img2.addEventListener('click', ()=> {
          alert("clicked on individual imges")
    }, false);
    img_ul.addEventListener('click', ()=> {
          alert("clicked inside the ul")
    }, false)


// Id third parameter is true  then capturing pat  ern(outside to inside)
// Id third parameter is false  then bubble pattern(inside to outside)


    // Event types, timestamp, defaultprevented, target, toElement
    // srcElement, currentrTarget, clienX, clienY, screenX, screenY
    // altkey, ctrlkey, shiftkey, keycode

    // =====================event propogation=====================================

    // ========================Async code =======================
    
    // It is single threaded each operation wait to complete last one
    // Blockign code=====================
    
    // block the flow of program 
    // Read file synchronous  means that it will wait while   read the file  
    
    //Non  Blockign code=====================
    
    // Read file Asynchronous  means that it will continue execution  while  read the file  
     // donot block the flow of program 

// ===================setimeout function-============

//    setTimeout(() => {
    //      console.log("Hello alayian")
    
    //  }, 6000);
    
// let day =  document.querySelector(".day");

// function syalayian() {
//      day.innerHTML = "friday"
//  };
 
//  const changeMe = setTimeout(syalayian, 4000)

//  document.querySelector("#stop").addEventListener('click', ()=>{
//      clearTimeout(changeMe);
//     })
    
// ===================setinterval function-========
//   document.getElementById("start").addEventListener("click", ()=>{
//        var startTime=  function DemoIntercval(){
//         console.log(`Today date is something`)
//        }

//      let intervel =   setInterval(startTime, 1000);
//        document.getElementById("stopNow").addEventListener("click", ()=>{
            
//            clearInterval(intervel);
//     })
//     })

    // ================================bg change continously++++++++++++++++++++
   let startbtn = document.getElementById("btnStart");
//    console.log(startbtn)


 function random_Color(){
        let red = Math.floor(Math.random()* 256);
        let blue = Math.floor(Math.random()* 256);
        let green = Math.floor(Math.random()* 256);
        

        let generatedColor = `rgb(${red}, ${green}, ${blue} )`
        return generatedColor;
        
 }
let inter;
   startbtn.addEventListener("click", ()=>{
       let changebtn=  ()=>{
       let container =  document.querySelector(".bgchange_container")
          container.style.backgroundColor = random_Color();
           console.log("bg is changing");
       }
        inter =   setInterval(changebtn, 1000);

    })
    let stopbtn  = document.getElementById("btnStop");
       stopbtn.addEventListener("click", ()=>{
         clearInterval(inter);
        //  inter= null;

    })


// ======================================keydown event==================
     let insert = document.getElementById("insert");
    //  console.log(insert);

     window.addEventListener('keydown', (e)=>{
        insert.innerHTML = `
        <table>
    <thead>
      <tr> 
        <th>Key</th>
        <th>Key Code</th>
        <th>Code </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>${e.key === " " ? "space" : e.key}</td>
        <td>${e.keyCode}</td>
        <td>${e.code}</td>
      </tr>
      
    </tbody>
  </table>

        `
     })

// ==========================================Promise=================   
function prom(test){
return  new Promise(function(resolve, reject){
    console.log("Please wait...")
    setTimeout(() => {
        if (test) {
        resolve("promise is resolved")    
    }
    else{ 
        reject('promise is reject')
    }
    },  3000);
  
});
}

let onful = (result)=>{
    console.log(result);
}
let  onrej= (error)=>{
    console.log(error);
}

prom(false).then(onful).catch(onrej);

// const newFun = async () => {
//     try {

//         const res = await prom(false);
//         console.log(res)
        
//     } 
//     catch (err) {
//         console.log(err)
//     }
// }
// newFun()



// let meet = function oncomp(){
//     console.log("We will meet tomorraw at nafees")
// }
// let notmeet = function onrej(){
//     console.log("We will meet next week  at nafees")
// }

// prom().then(cncomp);
// prom().then(onrej);


let someprom = new Promise((resolve, reject)=>{
    setTimeout(() => {
      resolve({
        name: "alayian", email: "alayian@gmail.com"
      })  
    }, 1000);
})

async function consumepromise(){
    try {
        const responese = await someprom;
        console.log(responese);
        
    } catch (error) {
        console.log(error)
        
    }
}

consumepromise()
// .then((userdata)=>{
//    return userdata.name;
// }).then((name)=>{
//     console.log(name)
// }).finally(()=> console.log("Now I can understand promise concept"))
// ================================Protypel behavioue of js =============


function anyFun(){
    // console.log();
    this.sum = 4;
    console.log(sum);
}

anyFun();


    </script>
</body> 
</html>